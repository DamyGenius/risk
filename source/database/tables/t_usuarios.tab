create table T_USUARIOS
(
  id_usuario           NUMBER(10) not null,
  alias                VARCHAR2(300),
  id_persona           NUMBER(10),
  estado               CHAR(1),
  avatar               BLOB,
  usuario_insercion    VARCHAR2(10) default SUBSTR(USER, 1, 10),
  fecha_insercion      DATE default SYSDATE,
  usuario_modificacion VARCHAR2(10) default SUBSTR(USER, 1, 10),
  fecha_modificacion   DATE default SYSDATE
)
;
comment on table T_USUARIOS
  is 'Usuarios';
comment on column T_USUARIOS.id_usuario
  is 'Identificador del usuario';
comment on column T_USUARIOS.alias
  is 'Alias del usuario (identificador para autenticacion)';
comment on column T_USUARIOS.id_persona
  is 'Persona relacionada al usuario';
comment on column T_USUARIOS.estado
  is 'Estado del usuario';
comment on column T_USUARIOS.avatar
  is 'Avatar del usuario (imagen de perfil)';
comment on column T_USUARIOS.usuario_insercion
  is 'Usuario que realizo la insercion del registro';
comment on column T_USUARIOS.fecha_insercion
  is 'Fecha en que se realizo la insercion del registro';
comment on column T_USUARIOS.usuario_modificacion
  is 'Usuario que realizo la ultima modificacion en el registro';
comment on column T_USUARIOS.fecha_modificacion
  is 'Fecha en que se realizo la ultima modificacion en el registro';
alter table T_USUARIOS
  add constraint PK_USUARIOS primary key (ID_USUARIO);
alter table T_USUARIOS
  add constraint UK_USUARIOS_ALIAS unique (ALIAS);
alter table T_USUARIOS
  add constraint FK_USUARIOS_PERSONAS foreign key (ID_PERSONA)
  references T_PERSONAS (ID_PERSONA);

