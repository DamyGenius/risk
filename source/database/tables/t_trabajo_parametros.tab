create table T_TRABAJO_PARAMETROS
(
  id_trabajo     NUMBER(15) not null,
  nombre          VARCHAR2(100) not null,
  direccion       VARCHAR2(1) not null,
  tipo_dato       VARCHAR2(1) not null,
  formato         VARCHAR2(100),
  obligatorio     VARCHAR2(1),
  valor_defecto   VARCHAR2(1000),
  activo          VARCHAR2(1) default 'N' not null,
  orden           NUMBER(3) not null,
  etiqueta        VARCHAR2(2000),
  longitud_maxima NUMBER(15)
)
;
comment on table T_TRABAJO_PARAMETROS
  is 'Parametros de Trabajos';
comment on column T_TRABAJO_PARAMETROS.id_trabajo
  is 'Identificador del trabajo';
comment on column T_TRABAJO_PARAMETROS.nombre
  is 'Nombre del parametro';
comment on column T_TRABAJO_PARAMETROS.direccion
  is 'Direccion del parametro';
comment on column T_TRABAJO_PARAMETROS.tipo_dato
  is 'Tipo de dato del parametro';
comment on column T_TRABAJO_PARAMETROS.formato
  is 'Formato del parametro';
comment on column T_TRABAJO_PARAMETROS.obligatorio
  is 'El parametro es obligatorio? (S/N)';
comment on column T_TRABAJO_PARAMETROS.valor_defecto
  is 'Valor por defecto';
comment on column T_TRABAJO_PARAMETROS.activo
  is 'El parametro esta activo? (S/N)';
comment on column T_TRABAJO_PARAMETROS.orden
  is 'Numero de orden del parametro';
comment on column T_TRABAJO_PARAMETROS.etiqueta
  is 'Etiqueta del parametro';
comment on column T_TRABAJO_PARAMETROS.longitud_maxima
  is 'Longitud maxima del parametro';
alter table T_TRABAJO_PARAMETROS
  add constraint PK_TRABAJO_PARAMETROS primary key (ID_TRABAJO, NOMBRE);
alter table T_TRABAJO_PARAMETROS
  add constraint UK_TRA_PAR_ID_TRABAJO_ORDEN unique (ID_TRABAJO, ORDEN);
alter table T_TRABAJO_PARAMETROS
  add constraint FK_TRABAJO_PARAMETROS_TRABAJOS foreign key (ID_TRABAJO)
  references T_TRABAJOS (ID_TRABAJO);
alter table T_TRABAJO_PARAMETROS
  add constraint CK_TRA_PAR_OBLIGATORIO
  check (OBLIGATORIO IN ('S', 'N'));
alter table T_TRABAJO_PARAMETROS
  add constraint CK_TRA_PAR_TIPO_DATO_FORMATO
  check (TIPO_DATO <> 'O' OR (TIPO_DATO = 'O' AND FORMATO IS NOT NULL));
alter table T_TRABAJO_PARAMETROS
  add constraint CK_TRABAJO_PARAMETROS_ACTIVO
  check (ACTIVO IN ('S', 'N'));
